<%- include('../admin-partials/header') %>

<link rel="stylesheet" href="/css/admin_css/products.css">

<title>Products - Aniyara</title>

<!-- Products Page -->
<div id="products-page" class="main-content page hidden-pages">
  <div class="header">
    <h1 class="page-title">Products Management</h1>
    <div class="search-bar">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#64748b"
        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
      <input type="text" placeholder="Search products...">
    </div>
  </div>

  <div class="filters">
    <div class="filter-group">
      <select class="filter-select">
        <option>All Categories</option>
        <option>Electronics</option>
        <option>Clothing</option>
        <option>Home & Kitchen</option>
        <option>Beauty & Personal Care</option>
      </select>
      <select class="filter-select">
        <option>All Stock Status</option>
        <option>In Stock</option>
        <option>Low Stock</option>
        <option>Out of Stock</option>
      </select>
      <select class="filter-select">
        <option>Sort By: Latest</option>
        <option>Sort By: Price (Low to High)</option>
        <option>Sort By: Price (High to Low)</option>
        <option>Sort By: Most Popular</option>
      </select>
    </div>
    <button class="btn" id="openModalBtn">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="12" y1="5" x2="12" y2="19"></line>
        <line x1="5" y1="12" x2="19" y2="12"></line>
      </svg>
      Add New Product
    </button>
  </div>

  <div class="products-grid">
    <div class="product-card">
      <img src="/api/placeholder/300/200" alt="Product" class="product-card-img">
      <div class="product-card-body">
        <h3 class="product-card-title">Premium Wireless Headphones</h3>
        <div class="product-card-price">$129.99</div>
        <div class="product-card-stock">In Stock: 45 units</div>
        <div class="product-card-actions">
          <button class="btn btn-sm edit-product-btn">Edit</button>
          <button class="btn btn-sm btn-danger delete-product-btn">Delete</button>
        </div>
      </div>
    </div>
    <!-- More product cards... -->
  </div>

  <div class="pagination">
    <a href="#" class="pagination-item">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="15 18 9 12 15 6"></polyline>
      </svg>
    </a>
    <a href="#" class="pagination-item active">1</a>
    <a href="#" class="pagination-item">2</a>
    <a href="#" class="pagination-item">3</a>
    <a href="#" class="pagination-item">4</a>
    <a href="#" class="pagination-item">5</a>
    <a href="#" class="pagination-item">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </a>
  </div>
</div>

<!-- Add New Product Modal - Hidden by default -->
<div class="modal-overlay" id="productModal">
  <div class="modal">
    <div class="modal-header">
      <h2 class="modal-title">Add New Product</h2>
      <button class="close-button" id="closeModalBtn">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>
    <div class="modal-body">
      <form id="add-product-form">
        <div class="form-group">
          <label for="product-name">Product Name</label>
          <input type="text" id="product-name" class="form-control" required>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="product-price">Price ($)</label>
            <input type="number" id="product-price" class="form-control" step="0.01" min="0" required>
          </div>
          <div class="form-group">
            <label for="product-stock">Stock Quantity</label>
            <input type="number" id="product-stock" class="form-control" min="0" required>
          </div>
        </div>

        <div class="form-group">
          <label for="product-category">Category</label>
          <select id="product-category" class="form-control" required>
            <option value="">Select a category</option>
            <option value="electronics">Electronics</option>
            <option value="furniture">Furniture</option>
            <option value="audio">Audio</option>
            <option value="camera">Camera</option>
            <option value="wearables">Wearables</option>
          </select>
        </div>

        <div class="form-group">
          <label for="product-description">Description</label>
          <textarea id="product-description" class="form-control"></textarea>
        </div>

        <div class="form-group">
          <label>Product Image</label>
          <div class="image-upload">
            <div class="upload-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none"
                stroke="#6b7280" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="17 8 12 3 7 8"></polyline>
                <line x1="12" y1="3" x2="12" y2="15"></line>
              </svg>
            </div>
            <p class="upload-text">Drag and drop an image here, or click to browse</p>
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button class="btn btn-outline" id="cancelModalBtn">Cancel</button>
      <button class="btn btn-primary" type="submit" form="add-product-form">
        Add Product
      </button>
    </div>
  </div>
</div>







<!-- Edit Product Modal - Hidden by default -->
<div class="modal-overlay" id="editProductModal">
  <div class="modal">
    <div class="modal-header">
      <h2 class="modal-title">Edit Product</h2>
      <button class="close-button" id="closeEditModalBtn">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>
    <div class="modal-body">
      <form id="edit-product-form" method="PUT" action="/admin/products/edit/:id" >
        <!-- Hidden input to store product ID -->
        <input type="hidden" id="edit-product-id">
        
        <div class="form-group">
          <label for="edit-product-name">Product Name</label>
          <input type="text" id="edit-product-name" class="form-control" required>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="edit-product-price">Price ($)</label>
            <input type="number" id="edit-product-price" class="form-control" step="0.01" min="0" required>
          </div>
          <div class="form-group">
            <label for="edit-product-stock">Stock Quantity</label>
            <input type="number" id="edit-product-stock" class="form-control" min="0" required>
          </div>
        </div>

        <div class="form-group">
          <label for="edit-product-category">Category</label>
          <select id="edit-product-category" class="form-control" required>
            <option value="">Select a category</option>
            <option value="electronics">Electronics</option>
            <option value="furniture">Furniture</option>
            <option value="audio">Audio</option>
            <option value="camera">Camera</option>
            <option value="wearables">Wearables</option>
          </select>
        </div>

        <div class="form-group">
          <label for="edit-product-description">Description</label>
          <textarea id="edit-product-description" class="form-control"></textarea>
        </div>

        <div class="form-group">
          <label>Product Image</label>
          <div class="image-preview" id="current-image-preview">
            <img src="/api/placeholder/300/200" alt="Current product image" id="edit-product-image-preview">
          </div>
          <div class="image-upload" id="edit-image-upload">
            <div class="upload-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none"
                stroke="#6b7280" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="17 8 12 3 7 8"></polyline>
                <line x1="12" y1="3" x2="12" y2="15"></line>
              </svg>
            </div>
            <p class="upload-text">Upload new image (optional)</p>
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button class="btn btn-outline" id="cancelEditModalBtn">Cancel</button>
      <button class="btn btn-primary" type="submit" form="edit-product-form">
        Save Changes
      </button>
    </div>
  </div>
</div>




<!-- JavaScript for Modal Functionality -->
<script src="/js/admin_js/product.js"></script>

<%- include('../admin-partials/footer') %>